(this.webpackJsonphandwrittenflashcards=this.webpackJsonphandwrittenflashcards||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n.n(o),i=n(38),c=n.n(i),r=(n(51),n.p,n(52),n(32)),s=n(23),l=n(22),u=n(4),d=n(6),h=n(40);n(57);h.a.initializeApp({apiKey:"AIzaSyBDXlOXdZc0YBlk381vSEz532xKtlFdpK4",authDomain:"flashcards-1ef94.firebaseapp.com",databaseURL:"https://flashcards-1ef94-default-rtdb.firebaseio.com",projectId:"flashcards-1ef94",storageBucket:"flashcards-1ef94.appspot.com",messagingSenderId:"517575217487",appId:"1:517575217487:web:d1c438865b09624ec4b53a"});var b=h.a.database().ref("/flashcards"),j=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"getAll",value:function(){return b}},{key:"create",value:function(e){return b.push(e)}},{key:"update",value:function(e,t){return b.child(e).update(t)}},{key:"delete",value:function(e){return b.child(e).remove()}},{key:"deleteAll",value:function(){return b.remove()}}]),e}()),f=n(24),p=n(9),v=function(){var e=a.a.useState("pen"),t=Object(s.a)(e,2),n=t[0],o=t[1],i=a.a.useState(!1),c=Object(s.a)(i,2),u=c[0],d=c[1],h=a.a.useState([]),b=Object(s.a)(h,2),v=b[0],O=b[1],g=a.a.useState([]),x=Object(s.a)(g,2),m=x[0],k=x[1],y=a.a.useRef(!1),C=function(e){y.current=!0;var t=e.target.getStage().getPointerPosition();u?k([].concat(Object(r.a)(m),[{tool:n,points:[t.x,t.y]}])):O([].concat(Object(r.a)(v),[{tool:n,points:[t.x,t.y]}]))},A=function(e){if(y.current){var t=e.target.getStage().getPointerPosition();if(u){var n=m[m.length-1];n.points=n.points.concat([t.x,t.y]),m.splice(m.length-1,1,n),k(m.concat())}else{var o=v[v.length-1];o.points=o.points.concat([t.x,t.y]),v.splice(v.length-1,1,o),O(v.concat())}}},w=function(){y.current=!1};return Object(p.jsxs)("div",{children:[Object(p.jsxs)("select",{value:n,onChange:function(e){o(e.target.value)},children:[Object(p.jsx)("option",{value:"pen",children:"Pen"}),Object(p.jsx)("option",{value:"eraser",children:"Eraser"})]}),Object(p.jsx)("button",{onClick:function(){var e={Layer1:v,Layer2:m};j.create(e).then((function(e){console.log("Created new item successfully!")})).catch((function(e){console.log(e)}))},children:"Save"}),Object(p.jsx)("button",{onClick:function(){d(!u)},children:u?"Annotation Off":"Annotation On"}),Object(p.jsx)(f.b,{to:"/home",children:"Home"}),Object(p.jsxs)(l.c,{width:window.innerWidth,height:window.innerHeight,onMouseDown:C,onMousemove:A,onMouseup:w,onPointerDown:C,onPointerMove:A,onPointerUp:w,style:{"touch-action":"none"},children:[Object(p.jsx)(l.a,{children:v.map((function(e,t){return Object(p.jsx)(l.b,{points:e.points,stroke:"#df4b26",strokeWidth:5,tension:.5,lineCap:"round",globalCompositeOperation:"eraser"===e.tool?"destination-out":"source-over"},t)}))}),u?Object(p.jsx)(l.a,{children:m.map((function(e,t){return Object(p.jsx)(l.b,{points:e.points,stroke:"#003186",strokeWidth:5,tension:.5,lineCap:"round",globalCompositeOperation:"eraser"===e.tool?"destination-out":"source-over"},t)}))}):null]})]})},O=n(14);var g=function(){var e=o.useState([]),t=Object(s.a)(e,2),n=t[0],a=t[1],i=o.useState(!1),c=Object(s.a)(i,2),r=c[0],u=c[1],d=o.useState([]),h=Object(s.a)(d,2),b=h[0],v=h[1],g=Object(O.g)().handle;return o.useEffect((function(){j.getAll().child("/".concat(g)).get().then((function(e){e.exists()?(console.log(e.val()),a(e.val().Layer1?e.val().Layer1:[]),v(e.val().Layer2?e.val().Layer2:[])):console.log("No data available")})).catch((function(e){console.log(e)}))}),g),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:function(){u(!r)},children:r?"Annotation Off":"Annotation On"}),Object(p.jsx)(f.b,{to:"/home",children:"Home"}),Object(p.jsxs)(l.c,{width:window.innerWidth,height:window.innerHeight,children:[Object(p.jsx)(l.a,{children:n.map((function(e,t){return Object(p.jsx)(l.b,{points:e.points,stroke:"#df4b26",strokeWidth:5,tension:.5,lineCap:"round"},t)}))}),r?Object(p.jsx)(l.a,{children:b.map((function(e,t){return Object(p.jsx)(l.b,{points:e.points,stroke:"#003186",strokeWidth:5,tension:.5,lineCap:"round",globalCompositeOperation:"eraser"===e.tool?"destination-out":"source-over"},t)}))}):null]})]})},x=n(17),m=n(8),k=n(7),y=function(e){Object(m.a)(n,e);var t=Object(k.a)(n);function n(e){var o;return Object(u.a)(this,n),(o=t.call(this,e)).refreshList=o.refreshList.bind(Object(x.a)(o)),o.setActiveTutorial=o.setActiveTutorial.bind(Object(x.a)(o)),o.removeAllTutorials=o.removeAllTutorials.bind(Object(x.a)(o)),o.onDataChange=o.onDataChange.bind(Object(x.a)(o)),o.state={tutorials:[],currentTutorial:null,currentIndex:-1},o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){j.getAll().on("value",this.onDataChange)}},{key:"componentWillUnmount",value:function(){j.getAll().off("value",this.onDataChange)}},{key:"onDataChange",value:function(e){var t=[];e.forEach((function(e){var n=e.key,o=e.val();t.push({key:n,title:o.title,description:o.description,published:o.published})})),this.setState({tutorials:t})}},{key:"refreshList",value:function(){this.setState({currentTutorial:null,currentIndex:-1})}},{key:"setActiveTutorial",value:function(e,t){this.setState({currentTutorial:e,currentIndex:t})}},{key:"removeAllTutorials",value:function(){var e=this;j.deleteAll().then((function(){e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.tutorials,o=(t.currentTutorial,t.currentIndex);return Object(p.jsx)("div",{className:"list row",children:Object(p.jsxs)("div",{className:"col-md-6",children:[Object(p.jsx)("h4",{children:"Tutorials List"}),Object(p.jsx)("ul",{className:"list-group",children:n&&n.map((function(t,n){return Object(p.jsx)("li",{className:"list-group-item "+(n===o?"active":""),onClick:function(){return e.setActiveTutorial(t,n)},children:Object(p.jsx)(f.b,{to:"/viewCard/"+t.key,children:t.key})},n)}))}),Object(p.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllTutorials,children:"Remove All"}),Object(p.jsx)(f.b,{to:"/addCard",children:"AddCard"})]})})}}]),n}(o.Component);var C=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("body",{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(O.d,{children:[Object(p.jsx)(O.a,{from:"/",exact:!0,to:"/home"}),Object(p.jsx)(O.b,{path:"/home",component:y}),Object(p.jsx)(O.b,{path:"/addCard",component:v}),Object(p.jsx)(O.b,{path:"/viewCard/:handle",children:Object(p.jsx)(g,{})})]})})})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),i(e),c(e)}))};c.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(C,{})}),document.getElementById("root")),A()}},[[63,1,2]]]);
//# sourceMappingURL=main.19947bac.chunk.js.map