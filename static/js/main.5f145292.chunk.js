(this.webpackJsonphandwrittenflashcards=this.webpackJsonphandwrittenflashcards||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n.n(o),i=n(46),c=n.n(i),r=(n(61),n.p,n(62),n(37)),s=n(23),l=n(26),u=n(5),d=n(7),h=n(48);n(67);h.a.initializeApp({apiKey:"AIzaSyBDXlOXdZc0YBlk381vSEz532xKtlFdpK4",authDomain:"flashcards-1ef94.firebaseapp.com",databaseURL:"https://flashcards-1ef94-default-rtdb.firebaseio.com",projectId:"flashcards-1ef94",storageBucket:"flashcards-1ef94.appspot.com",messagingSenderId:"517575217487",appId:"1:517575217487:web:d1c438865b09624ec4b53a"});var j=h.a.database().ref("/flashcards"),b=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"getAll",value:function(){return j}},{key:"create",value:function(e){return j.push(e)}},{key:"update",value:function(e,t){return j.child(e).update(t)}},{key:"delete",value:function(e){return j.child(e).remove()}},{key:"deleteAll",value:function(){return j.remove()}}]),e}()),f=n(22),p=n(4),v=function(){var e=a.a.useState("pen"),t=Object(s.a)(e,2),n=t[0],o=t[1],i=a.a.useState(!1),c=Object(s.a)(i,2),u=c[0],d=c[1],h=a.a.useState([]),j=Object(s.a)(h,2),v=j[0],O=j[1],x=a.a.useState([]),g=Object(s.a)(x,2),y=g[0],m=g[1],w=a.a.useRef(!1),k=a.a.useRef("TopLayer"),C=function(e){w.current=!0;var t=e.target.getStage().getPointerPosition();u?m([].concat(Object(r.a)(y),[{tool:n,points:[t.x,t.y]}])):O([].concat(Object(r.a)(v),[{tool:n,points:[t.x,t.y]}]))},A=function(e){if(w.current){var t=e.target.getStage().getPointerPosition();if(u){var n=y[y.length-1];n.points=n.points.concat([t.x,t.y]),y.splice(y.length-1,1,n),m(y.concat())}else{var o=v[v.length-1];o.points=o.points.concat([t.x,t.y]),v.splice(v.length-1,1,o),O(v.concat())}}},S=function(){w.current=!1};return Object(p.jsxs)("div",{children:[Object(p.jsxs)("select",{value:n,onChange:function(e){o(e.target.value)},children:[Object(p.jsx)("option",{value:"pen",children:"Pen"}),Object(p.jsx)("option",{value:"eraser",children:"Eraser"})]}),Object(p.jsx)("button",{onClick:function(){var e=k.current.toDataURL({pixelRatio:.2});console.log(e);var t={Layer1:v,Layer2:y,Preview:e};b.create(t).then((function(e){console.log("Created new item successfully!")})).catch((function(e){console.log(e)}))},children:"Save"}),Object(p.jsx)("button",{onClick:function(){d(!u)},children:u?"Annotation Off":"Annotation On"}),Object(p.jsx)(f.b,{to:"/home",children:"Home"}),Object(p.jsxs)(l.c,{width:.8*window.innerWidth,height:.8*window.innerHeight,onMouseDown:C,onMousemove:A,onMouseup:S,onPointerDown:C,onPointerMove:A,onPointerUp:S,style:{"touch-action":"none",border:"1px solid black"},children:[Object(p.jsx)(l.a,{ref:k,children:v.map((function(e,t){return Object(p.jsx)(l.b,{points:e.points,stroke:"#df4b26",strokeWidth:5,tension:.5,lineCap:"round",globalCompositeOperation:"eraser"===e.tool?"destination-out":"source-over"},t)}))}),u?Object(p.jsx)(l.a,{children:y.map((function(e,t){return Object(p.jsx)(l.b,{points:e.points,stroke:"#003186",strokeWidth:5,tension:.5,lineCap:"round",globalCompositeOperation:"eraser"===e.tool?"destination-out":"source-over"},t)}))}):null]})]})},O=n(15);var x=function(){var e=o.useState([]),t=Object(s.a)(e,2),n=t[0],a=t[1],i=o.useState(!1),c=Object(s.a)(i,2),r=c[0],u=c[1],d=o.useState([]),h=Object(s.a)(d,2),j=h[0],v=h[1],x=Object(O.g)().handle;return o.useEffect((function(){b.getAll().child("/".concat(x)).get().then((function(e){e.exists()?(console.log(e.val()),a(e.val().Layer1?e.val().Layer1:[]),v(e.val().Layer2?e.val().Layer2:[])):console.log("No data available")})).catch((function(e){console.log(e)}))}),x),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:function(){u(!r)},children:r?"Annotation Off":"Annotation On"}),Object(p.jsx)(f.b,{to:"/home",children:"Home"}),Object(p.jsxs)(l.c,{width:.8*window.innerWidth,height:.8*window.innerHeight,children:[Object(p.jsx)(l.a,{children:n.map((function(e,t){return Object(p.jsx)(l.b,{points:e.points,stroke:"#df4b26",strokeWidth:5,tension:.5,lineCap:"round"},t)}))}),r?Object(p.jsx)(l.a,{children:j.map((function(e,t){return Object(p.jsx)(l.b,{points:e.points,stroke:"#003186",strokeWidth:5,tension:.5,lineCap:"round",globalCompositeOperation:"eraser"===e.tool?"destination-out":"source-over"},t)}))}):null]})]})},g=n(18),y=n(9),m=n(8),w=n(57),k=n(56),C=n(38),A=n(39),S=(n(45),function(e){Object(y.a)(n,e);var t=Object(m.a)(n);function n(e){var o;return Object(u.a)(this,n),(o=t.call(this,e)).refreshList=o.refreshList.bind(Object(g.a)(o)),o.setActiveTutorial=o.setActiveTutorial.bind(Object(g.a)(o)),o.removeAllTutorials=o.removeAllTutorials.bind(Object(g.a)(o)),o.onDataChange=o.onDataChange.bind(Object(g.a)(o)),o.state={tutorials:[],currentTutorial:null,currentIndex:-1},o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){b.getAll().on("value",this.onDataChange)}},{key:"componentWillUnmount",value:function(){b.getAll().off("value",this.onDataChange)}},{key:"onDataChange",value:function(e){var t=[];e.forEach((function(e){var n=e.key,o=e.val();t.push({key:n,preview:o.Preview})})),this.setState({tutorials:t})}},{key:"refreshList",value:function(){this.setState({currentTutorial:null,currentIndex:-1})}},{key:"setActiveTutorial",value:function(e,t){this.setState({currentTutorial:e,currentIndex:t})}},{key:"removeAllTutorials",value:function(){var e=this;b.deleteAll().then((function(){e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){for(var e=this.state,t=e.tutorials,n=(e.currentTutorial,e.currentIndex,[]),o=t.length%4,a=t.length+(4-o),i=0;i<a;i+=4)n.push(Object(p.jsxs)(k.a,{children:[Object(p.jsx)(C.a,{xs:3,children:i<t.length?Object(p.jsx)(f.b,{to:"/viewCard/"+t[i].key,children:Object(p.jsx)(A.a,{src:t[i].preview,rounded:!0,fluid:!0,style:{width:"170px",height:"170px"}})}):Object(p.jsx)("div",{})}),Object(p.jsx)(C.a,{xs:3,children:i+1<t.length?Object(p.jsxs)(f.b,{to:"/viewCard/"+t[i+1].key,children:[Object(p.jsx)(A.a,{src:t[i+1].preview,rounded:!0,fluid:!0,style:{width:"170px",height:"170px"}})," "]}):Object(p.jsx)("div",{})}),Object(p.jsx)(C.a,{xs:3,children:i+2<t.length?Object(p.jsxs)(f.b,{to:"/viewCard/"+t[i+2].key,children:[Object(p.jsx)(A.a,{src:t[i+2].preview,rounded:!0,fluid:!0,style:{width:"170px",height:"170px"}})," "]}):Object(p.jsx)("div",{})}),Object(p.jsx)(C.a,{xs:3,children:i+3<t.length?Object(p.jsxs)(f.b,{to:"/viewCard/"+t[i+3].key,children:[Object(p.jsx)(A.a,{src:t[i+3].preview,rounded:!0,fluid:!0,style:{width:"170px",height:"170px"}})," "]}):Object(p.jsx)("div",{})})]}));return Object(p.jsxs)(w.a,{children:[Object(p.jsx)(f.b,{to:"/addCard",children:"AddCard"}),n]})}}]),n}(o.Component));var L=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("body",{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(O.d,{children:[Object(p.jsx)(O.a,{from:"/",exact:!0,to:"/home"}),Object(p.jsx)(O.b,{path:"/home",component:S}),Object(p.jsx)(O.b,{path:"/addCard",component:v}),Object(p.jsx)(O.b,{path:"/viewCard/:handle",children:Object(p.jsx)(x,{})})]})})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),i(e),c(e)}))};c.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root")),T()}},[[73,1,2]]]);
//# sourceMappingURL=main.5f145292.chunk.js.map